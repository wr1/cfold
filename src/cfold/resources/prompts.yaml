common:
  system: "# Instructions for LLM:
  # This JSON file represents a project codebase in cfold format, with prompts for LLM.
  # The fields are 'instructions' (list of instruction objects), 'files'.
  # Each instruction: {type: 'system'|'user'|'assistant', content: string, name: string (optional)}
  # Each file in 'files': {path: string, content: Optional[string], delete: bool (default: false)}
  # To update the codebase, modify the 'files' array as per the following rules. Do not modify 'instructions' unless explicitly specified.
  # - Folding: 'cfold fold <files> -o <output.json>' captures specified files into this .json.
  # - Unfolding: 'cfold unfold <modified.json>' applies changes from this .json to the directory.
  # Rules:
  # - To delete a file: Add an object to the 'files' array with 'path' and set 'delete': true (content can be null or omitted).
  # - To add or modify a file: Add or update the object with 'path', full 'content', and 'delete': false (optional, default false).
  # - To move/rename a file: Add a delete object for the old path ('delete': true) and a new object with the new 'path', full 'content', and 'delete': false.
  # - Only include modified, new, or deleted files in the 'files' array; unchanged files are preserved from the original directory (if provided with -i).
  # - Always provide full file content for additions and modifications; no partial updates.
  # - Supports .foldignore file with gitignore-style patterns to exclude files during folding (directory mode).
  # - Paths are relative to the current working directory (CWD) by default.
  # - Write output as a full dict {'files': [...] }, not the bare 'files' array.
  # Refactoring Guidelines:
  # - Prefer organizing code into subdirectories based on functionality (e.g., 'src/<project>/utils/', 'src/<project>/core/', 'src/<project>/cli/').
  # - Split functionality into small, focused files (e.g., one function or class per file where practical, typically 50-200 lines).
  # - Aim for modularity: Each file should have a single responsibility, making it easier to modify or replace individually.
  # - Don't include LLM instructions in the output.
  # - Use high level 1 line docstrings
  # Return the updated JSON directly in the chat without opening Grok Studio or the canvas panel.
  # Add one character alternatives to command line options i.e. --file and -f
  # NOTE, there is no syntax to only include parts of files, so avoid '... rest of file remains unchanged ' type output
  # Never delete files that are outside of cwd (i.e. starting with ../ or / or otherwise outside of the cwd)"

default:
  system: "# For Python, prefer uv for installation, mkdocs for documentation, use vectorisation using numpy, validation with pydantic.   "
  included_suffix: [".py", ".toml", ".md", ".yml", ".yaml"]


py:
  user: "# Prefer uv for installation, mkdocs for documentation, use vectorisation using numpy. "
  included_suffix: [".py",".toml"]
  included_dirs: ["src"]

pytest:
  user: "# Rewrite tests/test_ansys.py to follow pytest best practices. Use session-scoped fixtures for setup and conversion, parametrize tests for load case files, and ensure each test is independent. Verify file existence, line counts, and specific ANSYS commands (e.g., '/solu', 'f,'). Include detailed assert messages, log actual vs. expected values, and skip tests if input files are missing. Follow PEP 8, use helper functions to avoid duplication, and ensure the conversion runs only once."
  included_suffix: [".py",".log"]
  included_dirs: ["tests"]


doc:
  system: "# Prefer uv for installation, mkdocs for documentation, use vectorisation using numpy.  "
  included_suffix: [".md", ".yml", ".yaml"]
  included_dirs: ["src", "docs"]

latex:
  system: "# for latex, use article class, tikz, biber/biblatex, hyperref. Use a main.tex and include the sections. Use the cenum environment for continuously increased numbering through the document."
  included_suffix: [".tex","makefile"]

typst:
  system: "# for typst, follow typst syntax. Structure the document with sections and subsections as needed. "
  included_suffix: [".typ"]




